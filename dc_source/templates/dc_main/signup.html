{% extends 'base.html' %}
{% block title %}Sign Up{% endblock %}
{% load static %}
{% block content %}

<script>
document.addEventListener("DOMContentLoaded", function () {
    if (!localStorage.getItem("visited")) {
        window.location.href = "/landing";
    }
});
</script>


<div>
    <div class="main column is-3 my-5 container box px-4">
        <h2 class="title has-text-centered dText mt-4">Sign Up</h2>
        
        <form method="POST">
            {% csrf_token %}

            <div class="field">
                <label class="label">Username</label>
                <div class="control has-icons-left has-icons-right">
                    <input class="input" type="text" name="username" placeholder="Enter Username">
                    <span class="icon is-small is-left"><i class="fa fa-user"></i></span>
                </div>
            </div>
            
            <div class="field">
                <label class="label">Email</label>
                <div class="control has-icons-left has-icons-right">
                    <input class="input" type="email" name="email" placeholder="Enter Email">
                    <span class="icon is-small is-left"><i class="fa fa-envelope"></i></span>
                </div>
            </div>

            <div class="field">
                <label class="label">Password</label>
                <div class="control has-icons-left has-icons-right">
                    <input class="input" type="password" name="password" placeholder="Enter Password">
                    <span class="icon is-small is-left"><i class="fa fa-lock"></i></span>
                </div>
                <p class="is-size-7 mt-2">Password must contain:</p>
                <ul class="is-size-7 pl-4">
                    <li>At least 8 characters,</li>
                    <li>At least 1 uppercase letter,</li>
                    <li>At least 1 lowercase letter,</li>
                    <li>At least 1 number,</li>
                    <li>At least 1 symbol.</li>
                </ul>
            </div>

            <div class="field">
                <label class="label">Confirm Password</label>
                <div class="control has-icons-left has-icons-right">
                    <input class="input" type="password" name="password2" placeholder="Confirm Password">
                    <span class="icon is-small is-left"><i class="fa fa-lock"></i></span>
                </div>
            </div>

            {% if error %}
                <p class="has-text-danger pb-2">{{ error }}</p>
            {% endif %}

            <div class="control">
                <button type="submit" class="button is-link is-fullwidth mt-2">Sign Up</button>
            </div>
            
        </form>

        <p class=" is-size-7 has-text-centered mb-4">Already have an account? <a href="/login">Login</a></p>
        
    </div>
</div>

<script src="{% static 'js/login.js' %}"></script>
{% endblock %}