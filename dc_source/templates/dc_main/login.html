{% extends 'base.html' %}
{% block title %}Login{% endblock %}
{% load static %}
{% block content %}

<script>
document.addEventListener("DOMContentLoaded", function () {
    if (!localStorage.getItem("visited")) {
        window.location.href = "/landing";
    }
});
</script>


<div>
    <div class="main column is-3 my-6 container box px-4">
        <h2 class="title has-text-centered dText mt-4">Login</h2>
        
        <form method="POST">
            {% csrf_token %}

            <div class="field"> 
                <label class="label">Username</label>
                <div class="control has-icons-left has-icons-right">
                    <input class="input" type="text" name="username" placeholder="Enter username">
                    <span class="icon is-small is-left"><i class="fa fa-user"></i></span>
                </div>
            </div>

            <div class="field">
                <label class="label">Password</label>
                <div class="control has-icons-left has-icons-right">
                    <input class="input" type="password" name="password" placeholder="Enter Password">
                    <span class="icon is-small is-left"><i class="fa fa-lock"></i></span>
                </div>
            </div>

            {% if error %}
                <p class="has-text-danger pb-2">{{ error }}</p>
            {% endif %}

            <div class="control">
                <button type="submit" class="button is-fullwidth is-link">Login</button>
            </div>

        </form>

        <p class=" is-size-7 has-text-centered mb-4">Don't have an account? <a href="{% url 'signup' %}">Sign Up</a></p>
        
    </div>
</div>

<script src="{% static 'js/login.js' %}"></script>
{% endblock %}